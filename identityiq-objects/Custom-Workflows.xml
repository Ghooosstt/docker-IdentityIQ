<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sailpoint PUBLIC "sailpoint.dtd" "sailpoint.dtd">
<sailpoint>

    <!-- Workflow Terminate Identity -->
    <Workflow explicitTransitions="true" name="Custom-Terminate Identity" type="">
        <Variable initializer="false" name="trace"/>
        <Step icon="Start" name="Start" posX="20" posY="20">
            <Transition to="Rename taskResult"/>
        </Step>
        <Step icon="Undo" name="Rename taskResult" posX="150" posY="20">
            <Script>
            <Source><![CDATA[
                    import sailpoint.object.Identity;
                    Identity identity = context.getObjectByName(Identity.class, launcher);
                    Identity requestee = context.getObjectById(Identity.class, quickLinkIdentityId);
                    wfcase.getTaskResult().setName("Terminate Identity launched by " + identity.getDisplayName() +" ("+ launcher +") on " + requestee.getDisplayName() + " (" + requestee.getName() + ")");
                ]]></Source>
            </Script>
            <Transition to="Teminate identity"/>
        </Step>
        <Step icon="Provision" name="Teminate identity" posX="280" posY="20">
            <Transition to="Stop"/>
        </Step>
        <Step icon="Stop" name="Stop" posX="410" posY="20"/>
    </Workflow>


    <!-- Workflow Reactivate Identity -->
    <Workflow explicitTransitions="true" name="Custom-Reactivate Identity" type="">
        <Variable initializer="false" name="trace"/>
        <Step icon="Start" name="Start" posX="20" posY="20">
            <Transition to="Rename taskresult"/>
        </Step>
        <Step icon="Undo" name="Rename taskresult" posX="150" posY="20">
            <Script>
            <Source><![CDATA[
                import sailpoint.object.Identity;
                Identity identity = context.getObjectByName(Identity.class, launcher);
                Identity requestee = context.getObjectById(Identity.class, quickLinkIdentityId);
                wfcase.getTaskResult().setName("Reactivate Identity launched by " + identity.getDisplayName() +" ("+ launcher +") on " + requestee.getDisplayName() + " (" + requestee.getName() + ")");
                ]]></Source>
            </Script>
            <Transition to="Reactivate identity"/>
        </Step>
        <Step icon="Provision" name="Reactivate identity" posX="280" posY="20">
            <Transition to="Stop"/>
        </Step>
        <Step icon="Stop" name="Stop" posX="410" posY="20"/>
    </Workflow>

</sailpoint>
